!function(e){var t={};function n(s){if(t[s])return t[s].exports;var o=t[s]={i:s,l:!1,exports:{}};return e[s].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(s,o,function(t){return e[t]}.bind(null,o));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);const s=document.createElement("div"),o=document.createElement("div"),i=document.createElement("div"),a=document.createElement("div"),c=document.createElement("input"),d=document.createElement("button"),l=document.createElement("i");let u=screen.width;window.addEventListener("resize",()=>{u=screen.width});const r={currentPage:"",pages:""};function m(e){""===r.currentPage&&(r.currentPage=1),r.pages=e;const t=document.createElement("button");t.className="pageButton",t.classList.add("hidden"),document.getElementsByClassName("pageButton").length<4&&t.classList.remove("hidden"),a.appendChild(t),t.id=`pageButton${e}`;const n=document.getElementsByClassName("active");0===n.length&&(document.getElementById("pageButton1").classList.add("active"),document.getElementById("pageButton1").innerHTML="1"),document.getElementById(`pageButton${e}`).addEventListener("click",t=>{!function(e,t,n){r.currentPage=e;for(let e=0;e<t.length;e++)t[e].classList.remove("active");if(document.getElementById(`pageButton${e}`).classList.add("active"),n.target.classList.contains("active")){for(let e=0;e<a.childNodes.length;e++)a.childNodes[e].innerHTML="";n.target.innerHTML=e}if(r.pages-r.currentPage==1&&document.getElementById("next").click(),r.currentPage>3){const t=document.getElementsByClassName("pageButton");for(let e=0;e<t.length;e++)t[e].classList.add("hidden");document.getElementById(`pageButton${e-1}`).classList.remove("hidden"),document.getElementById(`pageButton${e}`).classList.remove("hidden"),document.getElementById(`pageButton${e+1}`).classList.remove("hidden"),document.getElementById(`pageButton${e+2}`)&&document.getElementById(`pageButton${e+2}`).classList.remove("hidden")}else if(r.currentPage<5){const e=document.getElementsByClassName("pageButton");for(let t=0;t<e.length;t++)e[t].classList.add("hidden");document.getElementById("pageButton1").classList.remove("hidden"),document.getElementById("pageButton2").classList.remove("hidden"),document.getElementById("pageButton3").classList.remove("hidden"),document.getElementById("pageButton4").classList.remove("hidden")}u>800?i.scrollTo({left:`${1048*(e-1)}`,behavior:"smooth"}):u<500?i.scrollTo({left:`${262*(e-1)}`,behavior:"smooth"}):i.scrollTo({left:`${524*(e-1)}`,behavior:"smooth"})}(e,n,t)},!1)}function h(){for(;a.firstChild;)a.removeChild(a.firstChild)}function g(e,t){const n=document.createElement("div"),s=document.createElement("div"),o=document.createElement("div"),a=document.createElement("a"),c=document.createElement("span"),d=document.createElement("span"),l=document.createElement("i"),u=document.createElement("i"),r=document.createElement("span"),m=document.createElement("div"),h=document.createElement("span"),g=document.createElement("i"),p=document.createElement("span");n.className="block",s.className="topPart",o.className="bottomPart",p.className="description",l.className="fas fa-at",u.className="far fa-calendar-alt",d.className="channel",r.className="createDate",s.style.backgroundImage=`url(${e.snippet.thumbnails.medium.url})`,a.className="link",c.className="title",c.innerHTML+=e.snippet.title,a.href=`https://www.youtube.com/watch?v=${e.id.videoId}`,a.innerHTML="Watch on youtube",a.target="_blank",m.className="watch",h.className="watchedCount",g.className="fas fa-eye",i.appendChild(n),n.appendChild(s),n.appendChild(o),s.appendChild(c),c.appendChild(a),o.appendChild(d),d.appendChild(l),d.innerHTML+=e.snippet.channelTitle,o.appendChild(r),r.appendChild(u),r.innerHTML+=e.snippet.publishedAt.split("T")[0],o.appendChild(h),o.appendChild(m),m.appendChild(g),m.appendChild(h),h.id=`data${t}`,o.appendChild(p),e.snippet.description?p.innerHTML+=e.snippet.description:p.innerHTML+="No description yet...",a.addEventListener("touchend",()=>{window.open(a.href,"_blank")})}function p(e,t){document.getElementById(`data${t}`).innerText=e}class f{constructor(){this.baselink="https://www.googleapis.com/youtube/v3/",this.settings="AIzaSyBhgMW0S1a7AdMt0Vq2BUjzSiJR0uZn7cA",this.maxRezult=15,this.count="",this.state=[],this.nextPage="",this.len="",this.nums=[]}makeUrl(e){const t={...{type:"video",part:"snippet",maxResults:this.maxRezult,pageToken:this.nextPage}};let n=`${this.baselink}search?key=${this.settings}&`;for(const e in t)n+=`${e}=${t[e]}&`;return(n+=`q={${e}}`).slice(0,-1)}makeUrlCount(e){const t={...e};let n=`${this.baselink}videos?key=${this.settings}&part=statistics&id=`;for(const e in t)n+=`${t[e]},`;return this.url=n,n.slice(0,-1)}getResp(e){fetch(this.makeUrl(e)).then(e=>e.json()).then(e=>this.func(e)).catch(e=>console.error(e))}getRespCount(e,t){fetch(this.makeUrlCount(e)).then(e=>e.json()).then(e=>t(e)).catch(e=>console.error(e))}func(e){this.nextPage=e.nextPageToken,this.state.push(...e.items),this.len=e.items.length;const t=[];for(let n=0;n<e.items.length;n++){const s=e.items[n],o=s.id.videoId;document.getElementById("itemsSection").childNodes.length>=15?g(s,`${e.items.indexOf(s)+this.state.length-15}`):g(s,e.items.indexOf(s)),t.push(o)}this.countPages(this.len,this.nums),this.getRespCount(t,e=>{for(let t=0;t<e.items.length;t++)document.getElementById("itemsSection").childNodes.length>15?p(e.items[t].statistics.viewCount,`${t+this.state.length-15}`):p(e.items[t].statistics.viewCount,t)})}countPages(e,t){const n=document.getElementById("itemsSection").childNodes.length;let s,o;if(s=n>15&&n/15%2==0&&15!==e?e-1:e,console.log("last number",t[t.length-1]),t.length>0?(o=t[t.length-1],t=[]):o=0,this.count=o,console.log(t,this.count),u>800){if(s>4)for(this.count++,t.push(this.count);s>4;)s-=4,this.count++,t.push(this.count)}else if(u<500){if(s>1)for(this.count++,t.push(this.count);s>1;)s-=1,this.count++,t.push(this.count)}else for(this.count++,t.push(this.count);s>2;)s-=2,this.count++,t.push(this.count);for(let e=0;e<t.length;e++)m(t[e]);this.nums=t}deleteOldData(){this.count=0,this.state=[],this.nextPage="",this.len="",this.nums=[]}}window.state={searchTags:"",obj:""},document.addEventListener("DOMContentLoaded",function(){s.className="container",s.id="container",o.className="search",c.className="input-area",c.placeholder="Type anything here...",c.value="",l.className="fas fa-search",d.className="search-button",d.id="searchButton",d.type="button",i.className="itemsSection",a.className="buttonSection",i.id="itemsSection",document.body.appendChild(s),s.appendChild(o),s.appendChild(i),s.appendChild(a),o.appendChild(c),o.insertBefore(d,c),d.appendChild(l),document.body.addEventListener("click",e=>{e.target.classList.contains("input-area")&&o.classList.add("active-search-box"),e.target.classList.contains("input-area")||o.classList.remove("active-search-box")}),function(){const e=document.getElementById("itemsSection");let t,n,s;function o(i){s=i.pageX;const a=n-s;return a>20&&a<400&&(e.removeEventListener("mousemove",o),document.getElementById(`pageButton${+t+1}`).click()),a<-20&&a>-400&&(e.removeEventListener("mousemove",o),document.getElementById(`pageButton${+t-1}`).click()),!1}e.addEventListener("mousedown",function(s){t=document.getElementsByClassName("active")[0].innerHTML,n=s.pageX,e.addEventListener("mousemove",o,!1)},!1),window.addEventListener("mouseup",()=>{e.removeEventListener("mousemove",o,!1)})}(),function(){const e=i;let t,n,s;function o(i){s=i.changedTouches[`${i.changedTouches.length-1}`].pageX;const a=n-s;a>20&&a<400&&(document.getElementById(`pageButton${+t+1}`).click(),e.removeEventListener("touchmove",o)),a<-20&&a>-400&&(document.getElementById(`pageButton${+t-1}`).click(),e.removeEventListener("touchmove",o))}e.addEventListener("touchstart",function(s){s.preventDefault(),t=document.getElementsByClassName("active")[0].innerHTML,n=s.changedTouches[0].pageX,e.addEventListener("touchmove",o,{passive:!1})},{passive:!1}),e.addEventListener("touchend",()=>{e.removeEventListener("touchmove",o)})}()}),c.addEventListener("keydown",e=>{13===e.keyCode&&document.querySelector("button").click()}),window.addEventListener("resize",function(){const e=a.childNodes.length,t=i.childNodes.length,n=t/15;if(screen.width>800&&t<16*n&&e>4*n){window.state.obj.nums=[],window.state.obj.count=0;const t=r.currentPage;if(h(),window.state.obj.countPages(window.state.obj.len*n,window.state.obj.nums),e<9*n){const e=Math.ceil(.5*+r.currentPage);document.getElementById(`pageButton${e}`)&&(document.getElementById(`pageButton${e}`).click(),t%2==0&&setTimeout(()=>{i.scrollTo({left:`${1048*(e-1)+524}`})},200))}else{const e=Math.ceil(+r.currentPage/4);document.getElementById(`pageButton${e}`)&&(document.getElementById(`pageButton${e}`).click(),t%4==0?setTimeout(()=>{i.scrollTo({left:`${1048*(e-1)+786}`})},200):t%4==3?setTimeout(()=>{i.scrollTo({left:`${1048*(e-1)+524}`})},200):t%4==2&&setTimeout(()=>{i.scrollTo({left:`${1048*(e-1)+262}`})},200))}}else if(screen.width<500&&t<16*n&&e<9*n)if(window.state.obj.nums=[],window.state.obj.count=0,h(),window.state.obj.countPages(window.state.obj.len*n,window.state.obj.nums),e<5*n){const e=Math.ceil(4*+r.currentPage-3);console.log(r.currentPage,e),document.getElementById(`pageButton${e}`)&&document.getElementById(`pageButton${e}`).click()}else{const e=Math.ceil(2*+r.currentPage-1);document.getElementById(`pageButton${e}`)&&document.getElementById(`pageButton${e}`).click()}else if(screen.width>500&&screen.width<800&&t<16*n&&(e<5*n-n+1||e>8*n-n+1)){window.state.obj.nums=[],window.state.obj.count=0;const t=r.currentPage;if(h(),n%2==0?window.state.obj.countPages(window.state.obj.len*n-1,window.state.obj.nums):window.state.obj.countPages(window.state.obj.len*n,window.state.obj.nums),e<5*n){const e=Math.ceil(2*+r.currentPage-1);document.getElementById(`pageButton${e}`)&&setTimeout(()=>{document.getElementById(`pageButton${e}`).click()},200)}else{const e=Math.ceil(+r.currentPage/2);document.getElementById(`pageButton${e}`)&&(setTimeout(()=>{document.getElementById(`pageButton${e}`).click()},200),t%2==0&&setTimeout(()=>{i.scrollTo({left:`${524*(e-1)+262}`})},400))}}},!1),window.addEventListener("click",e=>{if(e.target===d){document.getElementById("next")&&o.removeChild(document.getElementById("next"));const e=document.createElement("button");e.id="next",e.style.display="none",o.appendChild(e),window.state.searchTags=c.value,h(),function(){for(r.currentPage="",r.pages="";i.firstChild;)i.removeChild(i.firstChild)}();const t=new f;t.deleteOldData(),window.state.obj=t,""!==c.value&&setTimeout(()=>{t.getResp(window.state.searchTags)},200),c.value="",document.getElementById("next").addEventListener("click",()=>{setTimeout(()=>{t.getResp(window.state.searchTags)},200)})}})}]);